---
import type { GlobalSettings } from "../types/microcms";

interface Props {
  settings: GlobalSettings;
}

const { settings } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, "");
---

<footer class="py-24 px-6 md:px-20 bg-background-light dark:bg-background-dark border-t border-gray-200 dark:border-gray-800">
  <!-- Section Header -->
  <div class="flex items-end gap-4 mb-16 border-b border-gray-200 dark:border-gray-800 pb-4">
    <h2 class="font-serif text-3xl font-bold tracking-tight text-text-main dark:text-white">Contact</h2>
    <span class="text-sm text-primary font-medium mb-1 tracking-wider opacity-80">お問い合わせ</span>
  </div>

  <!-- Content -->
  <div class="flex flex-col md:flex-row gap-16 md:gap-24">
    <!-- Email -->
    <div class="flex flex-col gap-3">
      <span class="text-[10px] font-bold text-text-muted uppercase tracking-widest">Email</span>
      <a class="font-serif text-lg text-text-main dark:text-white hover:text-primary transition-colors" href={`mailto:${settings.contact_email}`}>
        {settings.contact_email}
      </a>
    </div>
    <!-- SNS -->
    <div class="flex flex-col gap-3">
      <span class="text-[10px] font-bold text-text-muted uppercase tracking-widest">SNS</span>
      <div class="flex flex-col gap-2">
        {settings.instagram_url && (
          <a class="group flex items-center gap-2.5" href={settings.instagram_url} target="_blank" rel="noopener noreferrer">
            <img src={`${base}/icons/instagram.png`} alt="Instagram" class="block w-4 h-4 opacity-50 transition-opacity duration-300 group-hover:opacity-100" />
            <span class="text-sm leading-none text-text-muted transition-colors duration-300 group-hover:text-primary">
              {settings.instagram_handle?.replace(/^@/, "")}
            </span>
          </a>
        )}
        {settings.x_url && (
          <a class="group flex items-center gap-2.5" href={settings.x_url} target="_blank" rel="noopener noreferrer">
            <img src={`${base}/icons/x.png`} alt="X" class="block w-4 h-4 opacity-50 transition-opacity duration-300 group-hover:opacity-100" />
            <span class="text-sm leading-none text-text-muted transition-colors duration-300 group-hover:text-primary">
              {settings.x_handle?.replace(/^@/, "")}
            </span>
          </a>
        )}
      </div>
    </div>
  </div>

  <!-- Copyright -->
  <div class="mt-24 pt-4 border-t border-gray-200 dark:border-gray-800">
    <p class="text-[10px] text-gray-400 uppercase tracking-widest">{settings.copyright_text}</p>
  </div>
</footer>
