---
import type { GlobalSettings } from "../types/microcms";

interface Props {
  settings: GlobalSettings;
}

const { settings } = Astro.props;
const base = import.meta.env.BASE_URL.replace(/\/$/, "");
---

<footer class="bg-white dark:bg-[#111111] border-t border-gray-100 dark:border-gray-800">
  <div class="container mx-auto px-6 md:px-32 py-16">
    <div class="flex flex-col md:flex-row justify-between items-start gap-10">
      <!-- Contact -->
      <div class="flex flex-col gap-4">
        <h2 class="font-serif text-xl font-bold text-text-main dark:text-white">Contact</h2>
        <a class="flex items-center gap-2 text-sm text-text-muted hover:text-primary transition-colors group" href={`mailto:${settings.contact_email}`}>
          <span class="material-symbols-outlined text-base">mail</span>
          {settings.contact_email}
        </a>
      </div>
      <!-- SNS -->
      <div class="flex flex-col gap-3">
        {settings.instagram_url && (
          <a class="group flex items-center gap-2.5" href={settings.instagram_url} target="_blank" rel="noopener noreferrer">
            <img src={`${base}/icons/instagram.png`} alt="Instagram" class="w-4 h-4 opacity-50 transition-opacity duration-300 group-hover:opacity-100" />
            <span class="text-[11px] leading-none text-text-muted transition-colors duration-300 group-hover:text-primary">
              {settings.instagram_handle?.replace(/^@/, "")}
            </span>
          </a>
        )}
        {settings.x_url && (
          <a class="group flex items-center gap-2.5" href={settings.x_url} target="_blank" rel="noopener noreferrer">
            <img src={`${base}/icons/x.png`} alt="X" class="w-4 h-4 opacity-50 transition-opacity duration-300 group-hover:opacity-100" />
            <span class="text-[11px] leading-none text-text-muted transition-colors duration-300 group-hover:text-primary">
              {settings.x_handle?.replace(/^@/, "")}
            </span>
          </a>
        )}
      </div>
    </div>
    <div class="mt-12 pt-6 border-t border-gray-100 dark:border-gray-800 flex flex-col md:flex-row justify-between items-center text-[10px] text-gray-400 uppercase tracking-widest">
      <p>{settings.copyright_text}</p>
      <a class="hover:text-text-main dark:hover:text-white transition-colors mt-3 md:mt-0" href={`${base}/contact`}>Contact</a>
    </div>
  </div>
</footer>
